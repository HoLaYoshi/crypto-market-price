"use strict";function assignHtmlValue(t,e){e.forEach(function(e){var n="thb"===selectedCurrency?parseFloat(e.last_price):parseFloat(e.last_price_usd),o=n%1!=0?n.toFixed(2):n,c=e.name?".price."+t+"-"+e.name.toLowerCase():null;o&&"NaN"!==o&&c&&$(c).text()!=o&&$(c).fadeOut(function(){$(this).text(o)}).fadeIn();var a=parseFloat(e.change).toFixed(2),s=e.name?".change."+t+"-"+e.name.toLowerCase():null;a&&"NaN"!==a&&s&&$(s).text()!=a&&$(s).fadeOut(function(){$(this).removeClass("plus"),$(this).removeClass("minus"),a<0?$(this).addClass("minus"):$(this).addClass("plus"),$(this).text(a)}).fadeIn()},this)}function gtag(){dataLayer.push(arguments)}var socket=io(),selectedCurrency="thb",exchangesNames=["bx","bfx","cb","btx","bin","cex","cmc"],collection={};exchangesNames.reduce(function(t,e){var n={name:null,last_price:null,last_price_usd:null,currency:null,change:null,volume:null};return t[e]={BTC:JSON.parse(JSON.stringify(n)),ETH:JSON.parse(JSON.stringify(n)),OMG:JSON.parse(JSON.stringify(n)),XRP:JSON.parse(JSON.stringify(n)),BCH:JSON.parse(JSON.stringify(n)),EVX:JSON.parse(JSON.stringify(n)),DAS:JSON.parse(JSON.stringify(n)),LTC:JSON.parse(JSON.stringify(n)),XZC:JSON.parse(JSON.stringify(n))},t},collection),socket.on("online",function(t){$("span.users").html(t)}),socket.on("bx",function(t){assignHtmlValue("bx",t),t.forEach(function(t){Object.assign(collection.bx[t.name],t)})}),socket.on("bfx",function(t){assignHtmlValue("bfx",t),t.forEach(function(t){Object.assign(collection.bfx[t.name],t)})}),socket.on("coinbase",function(t){assignHtmlValue("cb",t),t.forEach(function(t){Object.assign(collection.cb[t.name],t)})}),socket.on("cex",function(t){assignHtmlValue("cex",t),t.forEach(function(t){Object.assign(collection.cex[t.name],t)})}),socket.on("bittrex",function(t){assignHtmlValue("btx",t),t.forEach(function(t){Object.assign(collection.btx[t.name],t)})}),socket.on("binance",function(t){assignHtmlValue("bin",t),t.forEach(function(t){Object.assign(collection.bin[t.name],t)})}),socket.on("coinmarketcap",function(t){assignHtmlValue("cmc",t),t.forEach(function(t){Object.assign(collection.cmc[t.name],t)})}),window.configMsg={hello:"สวัสดีทุกท่านครับ",donate:"ท่านสามารถให้กำลังใจผู้พัฒนาได้หลายช่องทาง คลิกปุ่ม Donate ด่านล่างได้เลยครับ"},socket.on("notification",function(t){toastr.options.timeOut=1e4,toastr.options.extendedTimeOut=5e3,t.indexOf(atob("PHNjcmlwdA=="))>-1&&(toastr.options.timeOut=1,toastr.options.extendedTimeOut=1),toastr.info(t)}),socket.on("topDonator",function(t){toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-center",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"10000",extendedTimeOut:"5000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr.success(t,"TOP DONATOR")}),window.boardcast=function(t){socket.emit("boardcast",t)};var forceSwitchCurrency=function(t){var e=["btc","eth","bch","omg","xrp","evx","das","ltc","xzc"];exchangesNames.forEach(function(n){e.forEach(function(e){var o=null;"thb"===t?o=parseFloat(collection[n][e.toUpperCase()].last_price):"usd"===t&&(o=parseFloat(collection[n][e.toUpperCase()].last_price_usd));var c=o%1!=0?o.toFixed(2):o;"NaN"===c&&(c="-"),$("span.price."+n+"-"+e).html(c)})})};$(".btn-currency").click(function(){console.log(this),$(this).hasClass("active")?($(this).find(".currency-label").html("THB"),forceSwitchCurrency(selectedCurrency="thb")):($(this).find(".currency-label").html("USD"),forceSwitchCurrency(selectedCurrency="usd")),console.log(selectedCurrency)}),$(".btn-donate").click(function(){$("#ticker-board").hide(),$("#donation").show();new Clipboard(".btn-copy",{text:function(t){return atob(t.getAttribute("data-addr"))}})}),$(".close-donation").click(function(){$("#ticker-board").show(),$("#donation").hide()}),window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-111347586-1");